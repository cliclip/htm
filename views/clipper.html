<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
  <link rel="shortcut icon" href="images/favicon.ico">
  <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
  <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
  <script src="/js/lib/easyXDM.debug.js"></script>
  <script src="/js/lib/json2.js"></script>
  <!--
  <script src="http://cdnjs.cloudflare.com/ajax/libs/json2/20110223/json2.js"></script>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.3.3/underscore-min.js"></script>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/backbone.js/0.9.1/backbone-min.js"></script>
  -->
  <style>
    body {
      margin: 0px;
      padding: 0px;
    }
    .mask {
      position: fixed;
      width: 100%;
      height: 100%;
      background:#000;
      opacity: 0.2;
      filter:alpha(opacity=20);
    }
  </style>
  <script>
  (function(){
  
    var socket = new easyXDM.Socket({
      onMessage: function(message, origin){
	console.log(arguments);
  	var command = message[0];
	var params = message[1];
	switch(command){
	  case 'init' : // for caller to set content
            // TODO
	    break;
        }
        socket.postMessage(["pang"]);
      }
    });

    setTimeout(function(){
      socket.postMessage(["close"]);
    }, 5000);
  
  })();
  </script>
</head>
<body>
  <div class="mask"></div>
  <div id="main"></div>
  <script type="text/template" id="login-view-template">
  </script>
  <script type="text/template" id="add-view-template">
  </script>
</body>
</html>
