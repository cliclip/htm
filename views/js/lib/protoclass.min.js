/* Based on Alex Arnell's inheritance implementation. */function $A(e){if(!e)return[];if(e.toArray)return e.toArray();var t=e.length||0,n=new Array(t);while(t--)n[t]=e[t];return n}var Class={create:function(){function n(){this.initialize.apply(this,arguments)}var e=null,t=$A(arguments);Object.isFunction(t[0])&&(e=t.shift()),Object.extend(n,Class.Methods),n.superclass=e,n.subclasses=[];if(e){var r=function(){};r.prototype=e.prototype,n.prototype=new r,e.subclasses.push(n)}for(var i=0;i<t.length;i++)n.addMethods(t[i]);return n.prototype.initialize||(n.prototype.initialize=this.emptyFunction),n.prototype.constructor=n,n},emptyFunction:function(){}};Class.Methods={addMethods:function(e){var t=this.superclass&&this.superclass.prototype,n=Object.keys(e);Object.keys({toString:!0}).length||n.push("toString","valueOf");for(var r=0,i=n.length;r<i;r++){var s=n[r],o=e[s];if(t&&Object.isFunction(o)&&o.argumentNames().first()=="$super")var u=o,o=Object.extend(function(e){return function(){return t[e].apply(this,arguments)}}(s).wrap(u),{valueOf:function(){return u},toString:function(){return u.toString()}});this.prototype[s]=o}return this}},Object.extend=function(e,t){for(var n in t)e[n]=t[n];return e},Object.extend(Object,{inspect:function(e){try{return Object.isUndefined(e)?"undefined":e===null?"null":e.inspect?e.inspect():String(e)}catch(t){if(t instanceof RangeError)return"...";throw t}},toJSON:function(e){var t=typeof e;switch(t){case"undefined":case"function":case"unknown":return;case"boolean":return e.toString()}if(e===null)return"null";if(e.toJSON)return e.toJSON();if(Object.isElement(e))return;var n=[];for(var r in e){var i=Object.toJSON(e[r]);Object.isUndefined(i)||n.push(r.toJSON()+": "+i)}return"{"+n.join(", ")+"}"},toQueryString:function(e){return $H(e).toQueryString()},toHTML:function(e){return e&&e.toHTML?e.toHTML():String.interpret(e)},keys:function(e){var t=[];for(var n in e)t.push(n);return t},values:function(e){var t=[];for(var n in e)t.push(e[n]);return t},clone:function(e){return Object.extend({},e)},isElement:function(e){return e&&e.nodeType==1},isArray:function(e){return e!=null&&typeof e=="object"&&"splice"in e&&"join"in e},isHash:function(e){return e instanceof Hash},isFunction:function(e){return typeof e=="function"},isString:function(e){return typeof e=="string"},isNumber:function(e){return typeof e=="number"},isUndefined:function(e){return typeof e=="undefined"}});if(WebKit=navigator.userAgent.indexOf("AppleWebKit/")>-1)$A=function(e){if(!e)return[];if((!Object.isFunction(e)||e!="[object NodeList]")&&e.toArray)return e.toArray();var t=e.length||0,n=new Array(t);while(t--)n[t]=e[t];return n};